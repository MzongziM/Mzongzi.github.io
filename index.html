<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="css/js-8-style.css"/>
		<title></title>
	</head>
	<body>
		<div id="cheat">
		</div>
		<div id="box">
				<span>输入购买的彩票号码(七位数)：</span>
				<br>
				<input type="text" id="inputNumber">
				<br>
				<input type="button" id="submit" onclick="main()" value="开奖" />
				<br>
				<span>本期开奖号码：</span>
				<br>
				<input type="text" id="randomNumber">
				<br>
				<span>结果：</span>
				<br>
				<input type="text" id="end">
		</div>
	</body>
	<script type="text/javascript">
		var ren=7;
		var end=getEle("end");
		function main(){
		//获取输入的数据
		var inputNumber=getEle("inputNumber").value;
		//检测数据是否符合标准
		if(isStandard(inputNumber)){
			//创建七位随机数
			var randomNum=createRandomNumber(ren);
			getEle("randomNumber").value=randomNum;//显示开奖号码
			award(comparisonNumber(inputNumber,randomNum));
			
		}else{
			alert("不符合规格");
		}
		
		//比对随机数与输入的数返回相同的位数
		//返回数字对应的信息
		}
		function getEle(id){return document.getElementById(id);}
		function isStandard(text){//获取一个字符串，检测是否符合标准
			if(text.length!=7||isNaN(text))
			{
				return false;
			}else{
				return true;
			}
		}
		function createRandomNumber(digit){//创建一个随机数，digit：随机数位数
			var randomNumber="";
			for(var i=0;i<digit;i++)
			{
				randomNumber+=parseInt(Math.random()*10);
			}
			return randomNumber;
		}
		function comparisonNumber(num1,num2){
			var match=0;
			for(var i=0;i<ren;i++)
			{
				if(num1.charAt(i)==num2.charAt(i)){
					match++;
				}
			}
			return match;
		}
		function award(num){
			switch(num){
				case 0:
					end.value="真可惜，没有中奖。"
					break;
				case 1:
					end.value="差一点就中奖了，加油！"
					break;
				case 2:
					end.value="中奖伍元！"
					break;
				case 3:
					end.value="中奖伍拾元！"
					break;
				case 4:
					end.value="中奖伍佰元！"
					break;
				case 5:
					end.value="中奖伍仟元！"
					break;
				case 6:
					end.value="中奖伍万元！"
					break;
				case 7:
					end.value="中奖伍佰万元！"
					break;
			}
		}
	</script>
</html>
